<MudNavMenu>
    <MudNavLink Icon="@Icons.Filled.Dashboard" IconColor="Color.Inherit" Href="Dashboard">
        Tableau de Bord
    </MudNavLink>

    <MudDivider />
    <AuthorizeView>
        <Authorized>
            <MudNavGroup Expanded="true" Icon="@Icons.Material.Filled.List" IconColor="Color.Inherit"
                         Title="Fournisseurs">
                <MudNavLink Icon="@Icons.Filled.List" IconColor="Color.Inherit" Href="/vendors">
                    Fournisseurs
                </MudNavLink>
            </MudNavGroup>
            <MudNavGroup Expanded="true" Icon="@Icons.Material.Filled.List" IconColor="Color.Inherit" Title="Commandes">

                <MudNavLink Icon="@Icons.Filled.Checklist" IconColor="Color.Inherit" Href="ordersclean">
                    Toutes les
                    Commandes
                </MudNavLink>
                <MudNavLink Icon="@Icons.Filled.FilterList" IconColor="Color.Inherit" Href="orderspending">
                    PR pending (<OrderCounter UrlParam="@OrderStatus.PR_PENDING"/>)
                </MudNavLink>
                <MudNavLink Icon="@Icons.Filled.SettingsOverscan" IconColor="Color.Inherit" Href="orderspendingtech">
                    Validation Technique (<OrderCounter UrlParam="@OrderStatus.TECHNICAL_CLEARANCE" />)
                </MudNavLink>
                <MudNavLink Icon="@Icons.Filled.Inventory" IconColor="Color.Inherit" Href="orderspendingproforma">
                    Attente
                    Proforma (<OrderCounter UrlParam="@OrderStatus.WAITING_PROFORMA" />)
                </MudNavLink>
                <MudNavLink Icon="@Icons.Filled.PanTool" IconColor="Color.Inherit" Href="orderspendingdpi">
                    Attente
                    DPI&AC (<OrderCounter UrlParam="@OrderStatus.DPI_AC" />)
                </MudNavLink>
                <MudNavLink Icon="@Icons.Filled.Approval" IconColor="Color.Inherit" Href="orderspendingapprobation">
                    Attente
                    Approbation (<OrderCounter UrlParam="@OrderStatus.PO_APPROVAL" />)
                </MudNavLink>
                <MudNavLink Icon="@Icons.Filled.DoneAll" IconColor="Color.Inherit" Href="orderscompletes">
                    Commandes
                    completes (<OrderCounter UrlParam="@OrderStatus.PO_RELEASED" />)
                </MudNavLink>
            </MudNavGroup>
            <MudDivider />
            <MudPaper Elevation="0">
                <MudIconButton Title="Actualiser" Icon="@Icons.Material.Filled.Refresh" OnClick="async () => await OnInitializedAsync()"/>
            </MudPaper>
        </Authorized>
        <NotAuthorized>
            <MudNavLink Icon="@Icons.Filled.Info" Href="/about">A propos</MudNavLink>
            <MudNavLink Icon="@Icons.Filled.Login" Href="/login">Connexion</MudNavLink>
        </NotAuthorized>
    </AuthorizeView>
    <AuthorizeView Roles="Admin">
        <Authorized>
            <MudNavGroup Icon="@Icons.Filled.Settings" IconColor="Color.Inherit" Title="Settings" Expanded="true">
                <MudNavLink Icon="@Icons.Filled.People" IconColor="Color.Inherit" Href="/users">
                    Utilisateurs
                </MudNavLink>
                <MudNavLink Icon="@Icons.Filled.Group" IconColor="Color.Inherit" Href="/roles">
                    Roles
                </MudNavLink>
                <MudNavLink Icon="@Icons.Filled.Security" IconColor="Color.Inherit" Href="/security">
                    Politiques sécurité
                </MudNavLink>
            </MudNavGroup>
        </Authorized>
    </AuthorizeView>
    @*<MudAppBar Dense="true" Fixed="true" Bottom="true" Color="Color.Default" Elevation="1">
        <MudSpacer />
        <MudText Color="Color.Inherit">Version: @_clientVersion</MudText>
    </MudAppBar>*@
    

   
</MudNavMenu>

@code {
    private string _clientVersion = "1.0.0";

    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();
        StateHasChanged();
    }
}